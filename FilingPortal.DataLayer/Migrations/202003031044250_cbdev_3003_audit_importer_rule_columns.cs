// Generated Time: 03/04/2020 12:41:21
// Generated By: IAPetrov

using FilingPortal.Parts.Common.DataLayer.Base;

namespace FilingPortal.DataLayer.Migrations
{
    using System;
    using System.Data.Entity.Migrations;
    
    public partial class cbdev_3003_audit_importer_rule_columns : FpMigration
    {
        public override void Up()
        {
            DropIndex("dbo.imp_rail_audit_daily_rules", new[] { "importer_code", "containers_count" });
            AddColumn("dbo.imp_rail_audit_daily_rules", "customs_qty", c => c.Decimal(precision: 18, scale: 6));
            AddColumn("dbo.imp_rail_audit_daily_rules", "supplier_code", c => c.String(maxLength: 24, unicode: false));
            AddColumn("dbo.imp_rail_audit_daily_rules", "consignee_code", c => c.String(maxLength: 24, unicode: false));
            AlterColumn("dbo.imp_rail_audit_daily_rules", "tariff", c => c.String(nullable: false, maxLength: 50, unicode: false));
            AlterColumn("dbo.imp_rail_audit_daily_rules", "goods_description", c => c.String(nullable: false, maxLength: 525, unicode: false));
            CreateIndex("dbo.imp_rail_audit_daily_rules", new[] { "importer_code", "supplier_code", "consignee_code", "goods_description", "tariff", "port_code", "destination_state" }, unique: true);
            DropColumn("dbo.imp_rail_audit_daily_rules", "containers_count");
            DropColumn("dbo.imp_rail_audit_daily_rules", "customs_qty_from");
            DropColumn("dbo.imp_rail_audit_daily_rules", "customs_qty_to");
            DropColumn("dbo.imp_rail_audit_daily_rules", "duty_and_playable_mpf_from");
            DropColumn("dbo.imp_rail_audit_daily_rules", "duty_and_playable_mpf_to");
        }
        
        public override void Down()
        {
            AddColumn("dbo.imp_rail_audit_daily_rules", "duty_and_playable_mpf_to", c => c.Decimal(precision: 18, scale: 6));
            AddColumn("dbo.imp_rail_audit_daily_rules", "duty_and_playable_mpf_from", c => c.Decimal(precision: 18, scale: 6));
            AddColumn("dbo.imp_rail_audit_daily_rules", "customs_qty_to", c => c.Decimal(precision: 18, scale: 6));
            AddColumn("dbo.imp_rail_audit_daily_rules", "customs_qty_from", c => c.Decimal(precision: 18, scale: 6));
            AddColumn("dbo.imp_rail_audit_daily_rules", "containers_count", c => c.Int());
            DropIndex("dbo.imp_rail_audit_daily_rules", new[] { "importer_code", "supplier_code", "consignee_code", "goods_description", "tariff", "port_code", "destination_state" });
            AlterColumn("dbo.imp_rail_audit_daily_rules", "goods_description", c => c.String(maxLength: 525, unicode: false));
            AlterColumn("dbo.imp_rail_audit_daily_rules", "tariff", c => c.String(maxLength: 50, unicode: false));
            DropColumn("dbo.imp_rail_audit_daily_rules", "consignee_code");
            DropColumn("dbo.imp_rail_audit_daily_rules", "supplier_code");
            DropColumn("dbo.imp_rail_audit_daily_rules", "customs_qty");
            CreateIndex("dbo.imp_rail_audit_daily_rules", new[] { "importer_code", "containers_count" }, unique: true);
        }
    }
}
